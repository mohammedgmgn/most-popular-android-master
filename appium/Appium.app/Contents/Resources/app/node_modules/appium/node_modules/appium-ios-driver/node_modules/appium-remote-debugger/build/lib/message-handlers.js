"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

require("source-map-support/register");

var _logger = _interopRequireDefault(require("./logger"));

var _remoteDebugger = require("./remote-debugger");

var _helpers = require("./helpers");

var _lodash = _interopRequireDefault(require("lodash"));

function cleanPageArray(arr) {
  return _lodash.default.map(arr, el => _lodash.default.pick(el, 'id', 'title', 'url'));
}

function onPageChange(appIdKey, pageDict) {
  const pageArray = (0, _helpers.pageArrayFromDict)(pageDict);

  if (this.appDict[appIdKey]) {
    if (this.appDict[appIdKey].pageArray) {
      if (this.appDict[appIdKey].pageArray.resolve) {
        this.appDict[appIdKey].pageArray.resolve();
      } else {
        if (_lodash.default.isEqual(cleanPageArray(this.appDict[appIdKey].pageArray), cleanPageArray(pageArray))) {
          _logger.default.debug(`Received page change notice for app '${appIdKey}' ` + `but the listing has not changed. Ignoring.`);

          return;
        }
      }
    }

    this.appDict[appIdKey].pageArray = pageArray;
  }

  if (this.appIdKey !== appIdKey) {
    _logger.default.debug(`Received page change notice for app '${appIdKey}' ` + `but listening for '${this.appIdKey}'. Ignoring.`);

    return;
  }

  _logger.default.debug(`Page changed: ${(0, _helpers.simpleStringify)(pageDict)}`);

  this.emit(_remoteDebugger.RemoteDebugger.EVENT_PAGE_CHANGE, {
    appIdKey: appIdKey.replace('PID:', ''),
    pageArray
  });
}

function onAppConnect(dict) {
  let appIdKey = dict.WIRApplicationIdentifierKey;

  _logger.default.debug(`Notified that new application '${appIdKey}' has connected`);

  this.updateAppsWithDict(dict);
}

function onAppDisconnect(dict) {
  let appIdKey = dict.WIRApplicationIdentifierKey;

  _logger.default.debug(`Application '${appIdKey}' disconnected. Removing from app dictionary.`);

  _logger.default.debug(`Current app is ${this.appIdKey}`);

  delete this.appDict[appIdKey];

  if (this.appIdKey === appIdKey) {
    _logger.default.debug(`No longer have app id. Attempting to find new one.`);

    this.appIdKey = (0, _helpers.getDebuggerAppKey)(this.bundleId, this.platformVersion, this.appDict);
  }

  if (!this.appDict) {
    _logger.default.debug('Main app disconnected. Disconnecting altogether.');

    this.connected = false;
    this.emit(_remoteDebugger.RemoteDebugger.EVENT_DISCONNECT, true);
  }
}

function onAppUpdate(dict) {
  let appIdKey = dict.WIRApplicationIdentifierKey;

  _logger.default.debug(`Notified that application '${appIdKey}' has been updated`);

  this.updateAppsWithDict(dict);
}

function onReportDriverList(dict) {
  _logger.default.debug(`Notified of connected drivers: ${JSON.stringify(dict.WIRDriverDictionaryKey)}.`);
}

function onTargetCreated(app, targetInfo) {
  _logger.default.debug(`Target created: ${app} ${JSON.stringify(targetInfo)}`);
}

function onTargetDestroyed(app, targetInfo) {
  _logger.default.debug(`Target destroyed: ${app} ${JSON.stringify(targetInfo)}`);
}

const messageHandlers = {
  onPageChange,
  onAppConnect,
  onAppDisconnect,
  onAppUpdate,
  onReportDriverList,
  onTargetCreated,
  onTargetDestroyed
};
var _default = messageHandlers;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9tZXNzYWdlLWhhbmRsZXJzLmpzIl0sIm5hbWVzIjpbImNsZWFuUGFnZUFycmF5IiwiYXJyIiwiXyIsIm1hcCIsImVsIiwicGljayIsIm9uUGFnZUNoYW5nZSIsImFwcElkS2V5IiwicGFnZURpY3QiLCJwYWdlQXJyYXkiLCJhcHBEaWN0IiwicmVzb2x2ZSIsImlzRXF1YWwiLCJsb2ciLCJkZWJ1ZyIsImVtaXQiLCJSZW1vdGVEZWJ1Z2dlciIsIkVWRU5UX1BBR0VfQ0hBTkdFIiwicmVwbGFjZSIsIm9uQXBwQ29ubmVjdCIsImRpY3QiLCJXSVJBcHBsaWNhdGlvbklkZW50aWZpZXJLZXkiLCJ1cGRhdGVBcHBzV2l0aERpY3QiLCJvbkFwcERpc2Nvbm5lY3QiLCJidW5kbGVJZCIsInBsYXRmb3JtVmVyc2lvbiIsImNvbm5lY3RlZCIsIkVWRU5UX0RJU0NPTk5FQ1QiLCJvbkFwcFVwZGF0ZSIsIm9uUmVwb3J0RHJpdmVyTGlzdCIsIkpTT04iLCJzdHJpbmdpZnkiLCJXSVJEcml2ZXJEaWN0aW9uYXJ5S2V5Iiwib25UYXJnZXRDcmVhdGVkIiwiYXBwIiwidGFyZ2V0SW5mbyIsIm9uVGFyZ2V0RGVzdHJveWVkIiwibWVzc2FnZUhhbmRsZXJzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQWFBLFNBQVNBLGNBQVQsQ0FBeUJDLEdBQXpCLEVBQThCO0FBQzVCLFNBQU9DLGdCQUFFQyxHQUFGLENBQU1GLEdBQU4sRUFBWUcsRUFBRCxJQUFRRixnQkFBRUcsSUFBRixDQUFPRCxFQUFQLEVBQVcsSUFBWCxFQUFpQixPQUFqQixFQUEwQixLQUExQixDQUFuQixDQUFQO0FBQ0Q7O0FBRUQsU0FBU0UsWUFBVCxDQUF1QkMsUUFBdkIsRUFBaUNDLFFBQWpDLEVBQTJDO0FBQ3pDLFFBQU1DLFNBQVMsR0FBRyxnQ0FBa0JELFFBQWxCLENBQWxCOztBQUdBLE1BQUksS0FBS0UsT0FBTCxDQUFhSCxRQUFiLENBQUosRUFBNEI7QUFDMUIsUUFBSSxLQUFLRyxPQUFMLENBQWFILFFBQWIsRUFBdUJFLFNBQTNCLEVBQXNDO0FBQ3BDLFVBQUksS0FBS0MsT0FBTCxDQUFhSCxRQUFiLEVBQXVCRSxTQUF2QixDQUFpQ0UsT0FBckMsRUFBOEM7QUFFNUMsYUFBS0QsT0FBTCxDQUFhSCxRQUFiLEVBQXVCRSxTQUF2QixDQUFpQ0UsT0FBakM7QUFDRCxPQUhELE1BR087QUFFTCxZQUFJVCxnQkFBRVUsT0FBRixDQUFVWixjQUFjLENBQUMsS0FBS1UsT0FBTCxDQUFhSCxRQUFiLEVBQXVCRSxTQUF4QixDQUF4QixFQUE0RFQsY0FBYyxDQUFDUyxTQUFELENBQTFFLENBQUosRUFBNEY7QUFDMUZJLDBCQUFJQyxLQUFKLENBQVcsd0NBQXVDUCxRQUFTLElBQWpELEdBQ0MsNENBRFg7O0FBRUE7QUFDRDtBQUNGO0FBQ0Y7O0FBRUQsU0FBS0csT0FBTCxDQUFhSCxRQUFiLEVBQXVCRSxTQUF2QixHQUFtQ0EsU0FBbkM7QUFDRDs7QUFHRCxNQUFJLEtBQUtGLFFBQUwsS0FBa0JBLFFBQXRCLEVBQWdDO0FBQzlCTSxvQkFBSUMsS0FBSixDQUFXLHdDQUF1Q1AsUUFBUyxJQUFqRCxHQUNDLHNCQUFxQixLQUFLQSxRQUFTLGNBRDlDOztBQUVBO0FBQ0Q7O0FBSURNLGtCQUFJQyxLQUFKLENBQVcsaUJBQWdCLDhCQUFnQk4sUUFBaEIsQ0FBMEIsRUFBckQ7O0FBQ0EsT0FBS08sSUFBTCxDQUFVQywrQkFBZUMsaUJBQXpCLEVBQTRDO0FBQzFDVixJQUFBQSxRQUFRLEVBQUVBLFFBQVEsQ0FBQ1csT0FBVCxDQUFpQixNQUFqQixFQUF5QixFQUF6QixDQURnQztBQUUxQ1QsSUFBQUE7QUFGMEMsR0FBNUM7QUFJRDs7QUFFRCxTQUFTVSxZQUFULENBQXVCQyxJQUF2QixFQUE2QjtBQUMzQixNQUFJYixRQUFRLEdBQUdhLElBQUksQ0FBQ0MsMkJBQXBCOztBQUNBUixrQkFBSUMsS0FBSixDQUFXLGtDQUFpQ1AsUUFBUyxpQkFBckQ7O0FBRUEsT0FBS2Usa0JBQUwsQ0FBd0JGLElBQXhCO0FBQ0Q7O0FBRUQsU0FBU0csZUFBVCxDQUEwQkgsSUFBMUIsRUFBZ0M7QUFDOUIsTUFBSWIsUUFBUSxHQUFHYSxJQUFJLENBQUNDLDJCQUFwQjs7QUFDQVIsa0JBQUlDLEtBQUosQ0FBVyxnQkFBZVAsUUFBUywrQ0FBbkM7O0FBQ0FNLGtCQUFJQyxLQUFKLENBQVcsa0JBQWlCLEtBQUtQLFFBQVMsRUFBMUM7O0FBSUEsU0FBTyxLQUFLRyxPQUFMLENBQWFILFFBQWIsQ0FBUDs7QUFHQSxNQUFJLEtBQUtBLFFBQUwsS0FBa0JBLFFBQXRCLEVBQWdDO0FBQzlCTSxvQkFBSUMsS0FBSixDQUFXLG9EQUFYOztBQUNBLFNBQUtQLFFBQUwsR0FBZ0IsZ0NBQWtCLEtBQUtpQixRQUF2QixFQUFpQyxLQUFLQyxlQUF0QyxFQUF1RCxLQUFLZixPQUE1RCxDQUFoQjtBQUNEOztBQUVELE1BQUksQ0FBQyxLQUFLQSxPQUFWLEVBQW1CO0FBRWpCRyxvQkFBSUMsS0FBSixDQUFVLGtEQUFWOztBQUNBLFNBQUtZLFNBQUwsR0FBaUIsS0FBakI7QUFDQSxTQUFLWCxJQUFMLENBQVVDLCtCQUFlVyxnQkFBekIsRUFBMkMsSUFBM0M7QUFDRDtBQUNGOztBQUVELFNBQVNDLFdBQVQsQ0FBc0JSLElBQXRCLEVBQTRCO0FBQzFCLE1BQUliLFFBQVEsR0FBR2EsSUFBSSxDQUFDQywyQkFBcEI7O0FBQ0FSLGtCQUFJQyxLQUFKLENBQVcsOEJBQTZCUCxRQUFTLG9CQUFqRDs7QUFFQSxPQUFLZSxrQkFBTCxDQUF3QkYsSUFBeEI7QUFDRDs7QUFFRCxTQUFTUyxrQkFBVCxDQUE2QlQsSUFBN0IsRUFBbUM7QUFDakNQLGtCQUFJQyxLQUFKLENBQVcsa0NBQWlDZ0IsSUFBSSxDQUFDQyxTQUFMLENBQWVYLElBQUksQ0FBQ1ksc0JBQXBCLENBQTRDLEdBQXhGO0FBQ0Q7O0FBRUQsU0FBU0MsZUFBVCxDQUEwQkMsR0FBMUIsRUFBK0JDLFVBQS9CLEVBQTJDO0FBQ3pDdEIsa0JBQUlDLEtBQUosQ0FBVyxtQkFBa0JvQixHQUFJLElBQUdKLElBQUksQ0FBQ0MsU0FBTCxDQUFlSSxVQUFmLENBQTJCLEVBQS9EO0FBQ0Q7O0FBRUQsU0FBU0MsaUJBQVQsQ0FBNEJGLEdBQTVCLEVBQWlDQyxVQUFqQyxFQUE2QztBQUMzQ3RCLGtCQUFJQyxLQUFKLENBQVcscUJBQW9Cb0IsR0FBSSxJQUFHSixJQUFJLENBQUNDLFNBQUwsQ0FBZUksVUFBZixDQUEyQixFQUFqRTtBQUNEOztBQUVELE1BQU1FLGVBQWUsR0FBRztBQUN0Qi9CLEVBQUFBLFlBRHNCO0FBRXRCYSxFQUFBQSxZQUZzQjtBQUd0QkksRUFBQUEsZUFIc0I7QUFJdEJLLEVBQUFBLFdBSnNCO0FBS3RCQyxFQUFBQSxrQkFMc0I7QUFNdEJJLEVBQUFBLGVBTnNCO0FBT3RCRyxFQUFBQTtBQVBzQixDQUF4QjtlQVVlQyxlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZyBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQgeyBSZW1vdGVEZWJ1Z2dlciB9IGZyb20gJy4vcmVtb3RlLWRlYnVnZ2VyJztcbmltcG9ydCB7IHBhZ2VBcnJheUZyb21EaWN0LCBnZXREZWJ1Z2dlckFwcEtleSwgc2ltcGxlU3RyaW5naWZ5IH0gZnJvbSAnLi9oZWxwZXJzJztcbmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7XG5cblxuLypcbiAqIEdlbmVyaWMgY2FsbGJhY2tzIHVzZWQgdGhyb3VnaG91dCB0aGUgbGlmZWN5Y2xlIG9mIHRoZSBSZW1vdGUgRGVidWdnZXIuXG4gKiBUaGVzZSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBwcm90b3R5cGUuXG4gKi9cblxuXG4vKipcbiAqIFJlbW92ZSB0aGUgYGlzS2V5YCBwcm9wZXJ0eSBmcm9tIHRoZSBwYWdlIGFycmF5LCBzaW5jZSBpdCBkb2VzIG5vdCBhZmZlY3RcbiAqIGVxdWFsaXR5XG4gKi9cbmZ1bmN0aW9uIGNsZWFuUGFnZUFycmF5IChhcnIpIHtcbiAgcmV0dXJuIF8ubWFwKGFyciwgKGVsKSA9PiBfLnBpY2soZWwsICdpZCcsICd0aXRsZScsICd1cmwnKSk7XG59XG5cbmZ1bmN0aW9uIG9uUGFnZUNoYW5nZSAoYXBwSWRLZXksIHBhZ2VEaWN0KSB7XG4gIGNvbnN0IHBhZ2VBcnJheSA9IHBhZ2VBcnJheUZyb21EaWN0KHBhZ2VEaWN0KTtcblxuICAvLyBzYXZlIHRoZSBwYWdlIGRpY3QgZm9yIHRoaXMgYXBwXG4gIGlmICh0aGlzLmFwcERpY3RbYXBwSWRLZXldKSB7XG4gICAgaWYgKHRoaXMuYXBwRGljdFthcHBJZEtleV0ucGFnZUFycmF5KSB7XG4gICAgICBpZiAodGhpcy5hcHBEaWN0W2FwcElkS2V5XS5wYWdlQXJyYXkucmVzb2x2ZSkge1xuICAgICAgICAvLyBwYWdlRGljdCBpcyBhIHBlbmRpbmcgcHJvbWlzZSwgc28gcmVzb2x2ZVxuICAgICAgICB0aGlzLmFwcERpY3RbYXBwSWRLZXldLnBhZ2VBcnJheS5yZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyB3ZSBoYXZlIGEgcHJlLWV4aXN0aW5nIHBhZ2VEaWN0XG4gICAgICAgIGlmIChfLmlzRXF1YWwoY2xlYW5QYWdlQXJyYXkodGhpcy5hcHBEaWN0W2FwcElkS2V5XS5wYWdlQXJyYXkpLCBjbGVhblBhZ2VBcnJheShwYWdlQXJyYXkpKSkge1xuICAgICAgICAgIGxvZy5kZWJ1ZyhgUmVjZWl2ZWQgcGFnZSBjaGFuZ2Ugbm90aWNlIGZvciBhcHAgJyR7YXBwSWRLZXl9JyBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJ1dCB0aGUgbGlzdGluZyBoYXMgbm90IGNoYW5nZWQuIElnbm9yaW5nLmApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBwYWdlIGRpY3Rpb25hcnlcbiAgICB0aGlzLmFwcERpY3RbYXBwSWRLZXldLnBhZ2VBcnJheSA9IHBhZ2VBcnJheTtcbiAgfVxuXG4gIC8vIG9ubHkgYWN0IGlmIHRoaXMgaXMgdGhlIGNvcnJlY3QgYXBwXG4gIGlmICh0aGlzLmFwcElkS2V5ICE9PSBhcHBJZEtleSkge1xuICAgIGxvZy5kZWJ1ZyhgUmVjZWl2ZWQgcGFnZSBjaGFuZ2Ugbm90aWNlIGZvciBhcHAgJyR7YXBwSWRLZXl9JyBgICtcbiAgICAgICAgICAgICAgYGJ1dCBsaXN0ZW5pbmcgZm9yICcke3RoaXMuYXBwSWRLZXl9Jy4gSWdub3JpbmcuYCk7XG4gICAgcmV0dXJuO1xuICB9XG5cblxuXG4gIGxvZy5kZWJ1ZyhgUGFnZSBjaGFuZ2VkOiAke3NpbXBsZVN0cmluZ2lmeShwYWdlRGljdCl9YCk7XG4gIHRoaXMuZW1pdChSZW1vdGVEZWJ1Z2dlci5FVkVOVF9QQUdFX0NIQU5HRSwge1xuICAgIGFwcElkS2V5OiBhcHBJZEtleS5yZXBsYWNlKCdQSUQ6JywgJycpLFxuICAgIHBhZ2VBcnJheSxcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uQXBwQ29ubmVjdCAoZGljdCkge1xuICBsZXQgYXBwSWRLZXkgPSBkaWN0LldJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTtcbiAgbG9nLmRlYnVnKGBOb3RpZmllZCB0aGF0IG5ldyBhcHBsaWNhdGlvbiAnJHthcHBJZEtleX0nIGhhcyBjb25uZWN0ZWRgKTtcblxuICB0aGlzLnVwZGF0ZUFwcHNXaXRoRGljdChkaWN0KTtcbn1cblxuZnVuY3Rpb24gb25BcHBEaXNjb25uZWN0IChkaWN0KSB7XG4gIGxldCBhcHBJZEtleSA9IGRpY3QuV0lSQXBwbGljYXRpb25JZGVudGlmaWVyS2V5O1xuICBsb2cuZGVidWcoYEFwcGxpY2F0aW9uICcke2FwcElkS2V5fScgZGlzY29ubmVjdGVkLiBSZW1vdmluZyBmcm9tIGFwcCBkaWN0aW9uYXJ5LmApO1xuICBsb2cuZGVidWcoYEN1cnJlbnQgYXBwIGlzICR7dGhpcy5hcHBJZEtleX1gKTtcblxuICAvLyBnZXQgcmlkIG9mIHRoZSBlbnRyeSBpbiBvdXIgYXBwIGRpY3Rpb25hcnksXG4gIC8vIHNpbmNlIGl0IGlzIG5vIGxvbmdlciBhdmFpbGFibGVcbiAgZGVsZXRlIHRoaXMuYXBwRGljdFthcHBJZEtleV07XG5cbiAgLy8gaWYgdGhlIGRpc2Nvbm5lY3RlZCBhcHAgaXMgdGhlIG9uZSB3ZSBhcmUgY29ubmVjdGVkIHRvLCB0cnkgdG8gZmluZCBhbm90aGVyXG4gIGlmICh0aGlzLmFwcElkS2V5ID09PSBhcHBJZEtleSkge1xuICAgIGxvZy5kZWJ1ZyhgTm8gbG9uZ2VyIGhhdmUgYXBwIGlkLiBBdHRlbXB0aW5nIHRvIGZpbmQgbmV3IG9uZS5gKTtcbiAgICB0aGlzLmFwcElkS2V5ID0gZ2V0RGVidWdnZXJBcHBLZXkodGhpcy5idW5kbGVJZCwgdGhpcy5wbGF0Zm9ybVZlcnNpb24sIHRoaXMuYXBwRGljdCk7XG4gIH1cblxuICBpZiAoIXRoaXMuYXBwRGljdCkge1xuICAgIC8vIHRoaXMgbWVhbnMgd2Ugbm8gbG9uZ2VyIGhhdmUgYW55IGFwcHMuIHdoYXQgdGhlIHdoYXQ/XG4gICAgbG9nLmRlYnVnKCdNYWluIGFwcCBkaXNjb25uZWN0ZWQuIERpc2Nvbm5lY3RpbmcgYWx0b2dldGhlci4nKTtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMuZW1pdChSZW1vdGVEZWJ1Z2dlci5FVkVOVF9ESVNDT05ORUNULCB0cnVlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvbkFwcFVwZGF0ZSAoZGljdCkge1xuICBsZXQgYXBwSWRLZXkgPSBkaWN0LldJUkFwcGxpY2F0aW9uSWRlbnRpZmllcktleTtcbiAgbG9nLmRlYnVnKGBOb3RpZmllZCB0aGF0IGFwcGxpY2F0aW9uICcke2FwcElkS2V5fScgaGFzIGJlZW4gdXBkYXRlZGApO1xuXG4gIHRoaXMudXBkYXRlQXBwc1dpdGhEaWN0KGRpY3QpO1xufVxuXG5mdW5jdGlvbiBvblJlcG9ydERyaXZlckxpc3QgKGRpY3QpIHtcbiAgbG9nLmRlYnVnKGBOb3RpZmllZCBvZiBjb25uZWN0ZWQgZHJpdmVyczogJHtKU09OLnN0cmluZ2lmeShkaWN0LldJUkRyaXZlckRpY3Rpb25hcnlLZXkpfS5gKTtcbn1cblxuZnVuY3Rpb24gb25UYXJnZXRDcmVhdGVkIChhcHAsIHRhcmdldEluZm8pIHtcbiAgbG9nLmRlYnVnKGBUYXJnZXQgY3JlYXRlZDogJHthcHB9ICR7SlNPTi5zdHJpbmdpZnkodGFyZ2V0SW5mbyl9YCk7XG59XG5cbmZ1bmN0aW9uIG9uVGFyZ2V0RGVzdHJveWVkIChhcHAsIHRhcmdldEluZm8pIHtcbiAgbG9nLmRlYnVnKGBUYXJnZXQgZGVzdHJveWVkOiAke2FwcH0gJHtKU09OLnN0cmluZ2lmeSh0YXJnZXRJbmZvKX1gKTtcbn1cblxuY29uc3QgbWVzc2FnZUhhbmRsZXJzID0ge1xuICBvblBhZ2VDaGFuZ2UsXG4gIG9uQXBwQ29ubmVjdCxcbiAgb25BcHBEaXNjb25uZWN0LFxuICBvbkFwcFVwZGF0ZSxcbiAgb25SZXBvcnREcml2ZXJMaXN0LFxuICBvblRhcmdldENyZWF0ZWQsXG4gIG9uVGFyZ2V0RGVzdHJveWVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgbWVzc2FnZUhhbmRsZXJzO1xuIl0sImZpbGUiOiJsaWIvbWVzc2FnZS1oYW5kbGVycy5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLiJ9
